package cn.hackedmc.apotheosis.module.impl.exploit.crasher;

import cn.hackedmc.apotheosis.newevent.Listener;
import cn.hackedmc.apotheosis.newevent.annotations.EventLink;
import cn.hackedmc.apotheosis.newevent.impl.motion.PreMotionEvent;
import cn.hackedmc.apotheosis.module.impl.exploit.Crasher;
import cn.hackedmc.apotheosis.value.Mode;

public class VanillaCrasher extends Mode<Crasher> {

    private double x;
    private double y;
    private double z;

    public VanillaCrasher(String name, Crasher parent) {
        super(name, parent);
    }

    @EventLink()
    public final Listener<PreMotionEvent> onPreMotionEvent = event -> {

        final double amount = 5;

        x += amount;
        y = Math.min(y + amount, 255);
        z += amount;

        event.setPosX(x);
        event.setPosY(y);
        event.setPosZ(z);
    };

    @Override
    public void onEnable() {
        x = mc.thePlayer.posX;
        y = mc.thePlayer.posY;
        z = mc.thePlayer.posZ;
    }
}